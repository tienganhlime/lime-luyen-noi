<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Luy·ªán Ph√°t √Çm</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/hyphen@1.1.1/hyphen.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/hyphen@1.1.1/patterns/en-us.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-firestore-compat.js"></script>
</head>
<body class="bg-gray-100">
<!-- Loading Spinner -->
<div id="loading" class="hidden fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50">
    <div class="bg-white p-8 rounded-lg">
        <div class="animate-spin h-12 w-12 border-4 border-blue-500 border-t-transparent rounded-full mx-auto"></div>
        <p class="mt-4 text-gray-700">ƒêang x·ª≠ l√Ω...</p>
    </div>
</div>

<!-- 1. TRANG ƒêƒÇNG NH·∫¨P -->
<div id="loginScreen" class="screen min-h-screen flex items-center justify-center p-4">
    <div class="bg-white rounded-2xl shadow-2xl p-10 max-w-md w-full">
        <h1 class="text-4xl font-bold text-center mb-8 text-blue-600">üéôÔ∏è Luy·ªán Ph√°t √Çm</h1>
        <div class="space-y-4">
            <button onclick="selectRole('teacher')" class="w-full bg-green-500 hover:bg-green-600 text-white py-4 rounded-lg text-xl font-semibold transition">
                üë®‚Äçüè´ T√¥i l√† Gi√°o vi√™n
            </button>
            <button onclick="selectRole('student')" class="w-full bg-blue-500 hover:bg-blue-600 text-white py-4 rounded-lg text-xl font-semibold transition">
                üë®‚Äçüéì T√¥i l√† H·ªçc sinh
            </button>
            <button onclick="selectRole('admin')" class="w-full bg-purple-500 hover:bg-purple-600 text-white py-4 rounded-lg text-xl font-semibold transition">
                üõ°Ô∏è T√¥i l√† Admin
            </button>
        </div>
    </div>
</div>

<!-- 2. ƒêƒÇNG NH·∫¨P H·ªåC SINH -->
<div id="studentLoginScreen" class="screen hidden min-h-screen flex items-center justify-center p-4">
    <div class="bg-white rounded-2xl shadow-xl p-8 max-w-md w-full">
        <button onclick="showScreen('loginScreen')" class="text-gray-600 mb-4">‚Üê Quay l·∫°i</button>
        <h2 class="text-3xl font-bold mb-6">ƒêƒÉng nh·∫≠p H·ªçc sinh</h2>
        <input type="text" id="studentCode" placeholder="Nh·∫≠p m√£ h·ªçc sinh (vd: HS001)" class="w-full p-3 border rounded-lg mb-4">
        <button onclick="loginStudent()" class="w-full bg-blue-500 hover:bg-blue-600 text-white py-3 rounded-lg font-semibold">
            ƒêƒÉng nh·∫≠p
        </button>
    </div>
</div>

<!-- 3. ƒêƒÇNG NH·∫¨P GI√ÅO VI√äN -->
<div id="teacherLoginScreen" class="screen hidden min-h-screen flex items-center justify-center p-4">
    <div class="bg-white rounded-2xl shadow-xl p-8 max-w-md w-full">
        <button onclick="showScreen('loginScreen')" class="text-gray-600 mb-4">‚Üê Quay l·∫°i</button>
        <h2 class="text-3xl font-bold mb-6">ƒêƒÉng nh·∫≠p Gi√°o vi√™n</h2>
        <input type="text" id="teacherCode" placeholder="Nh·∫≠p m√£ gi√°o vi√™n (vd: GV001)" class="w-full p-3 border rounded-lg mb-4">
        <input type="password" id="teacherPassword" placeholder="M·∫≠t kh·∫©u" class="w-full p-3 border rounded-lg mb-4">
        <button onclick="loginTeacher()" class="w-full bg-green-500 hover:bg-green-600 text-white py-3 rounded-lg font-semibold">
            ƒêƒÉng nh·∫≠p
        </button>
        <p class="text-sm text-gray-500 mt-4">Li√™n h·ªá Admin n·∫øu qu√™n m·∫≠t kh·∫©u.</p>
    </div>
</div>

<!-- ƒêƒÇNG NH·∫¨P ADMIN -->
<div id="adminLoginScreen" class="screen hidden min-h-screen flex items-center justify-center p-4">
    <div class="bg-white rounded-2xl shadow-xl p-8 max-w-md w-full">
        <button onclick="showScreen('loginScreen')" class="text-gray-600 mb-4">‚Üê Quay l·∫°i</button>
        <h2 class="text-3xl font-bold mb-6">ƒêƒÉng nh·∫≠p Admin</h2>
        <input type="text" id="adminCode" placeholder="M√£ admin (vd: ADMIN001)" class="w-full p-3 border rounded-lg mb-4">
        <input type="password" id="adminPassword" placeholder="M·∫≠t kh·∫©u" class="w-full p-3 border rounded-lg mb-4">
        <button onclick="loginAdmin()" class="w-full bg-purple-500 hover:bg-purple-600 text-white py-3 rounded-lg font-semibold">
            ƒêƒÉng nh·∫≠p
        </button>
        <p class="text-sm text-gray-500 mt-4">Li√™n h·ªá developer n·∫øu c·∫ßn.</p>
    </div>
</div>

<!-- DASHBOARD ADMIN -->
<div id="adminDashboard" class="screen hidden min-h-screen p-6">
    <div class="max-w-6xl mx-auto">
        <div class="bg-white rounded-lg shadow-lg p-6 mb-6">
            <div class="flex justify-between items-center">
                <h1 class="text-3xl font-bold">üõ°Ô∏è Dashboard Admin</h1>
                <button onclick="logout()" class="bg-red-500 text-white px-4 py-2 rounded-lg">ƒêƒÉng xu·∫•t</button>
            </div>
            <p class="text-gray-600 mt-2">M√£ Admin: <span id="adminCodeDisplay" class="font-mono font-bold"></span></p>
        </div>
        <div class="grid md:grid-cols-4 gap-6 mb-6">
            <button onclick="showManageTeachers()" class="bg-blue-500 hover:bg-blue-600 text-white p-6 rounded-lg text-xl font-semibold">üë®‚Äçüè´ Qu·∫£n l√Ω Gi√°o vi√™n</button>
            <button onclick="showManageClasses()" class="bg-green-500 hover:bg-green-600 text-white p-6 rounded-lg text-xl font-semibold">üìö Qu·∫£n l√Ω L·ªõp</button>
            <button onclick="showManageStudents()" class="bg-purple-500 hover:bg-purple-600 text-white p-6 rounded-lg text-xl font-semibold">üë®‚Äçüéì Qu·∫£n l√Ω H·ªçc sinh</button>
            <button onclick="showReports()" class="bg-orange-500 hover:bg-orange-600 text-white p-6 rounded-lg text-xl font-semibold">üìä B√°o c√°o</button>
        </div>
        <div id="adminContent" class="bg-white rounded-lg shadow-lg p-6"></div>
    </div>
</div>

<!-- 4. DASHBOARD GI√ÅO VI√äN -->
<div id="teacherDashboard" class="screen hidden min-h-screen p-6">
    <div class="max-w-6xl mx-auto">
        <div class="bg-white rounded-lg shadow-lg p-6 mb-6">
            <div class="flex justify-between items-center">
                <h1 class="text-3xl font-bold">üë®‚Äçüè´ Dashboard Gi√°o vi√™n</h1>
                <button onclick="logout()" class="bg-red-500 text-white px-4 py-2 rounded-lg">ƒêƒÉng xu·∫•t</button>
            </div>
            <p class="text-gray-600 mt-2">M√£ GV: <span id="teacherCodeDisplay" class="font-mono font-bold"></span></p>
        </div>
        <div class="grid md:grid-cols-3 gap-6 mb-6">
            <button onclick="showCreateClass()" class="bg-blue-500 hover:bg-blue-600 text-white p-6 rounded-lg text-xl font-semibold">
                ‚ûï T·∫°o l·ªõp m·ªõi
            </button>
            <button onclick="showMyClasses()" class="bg-green-500 hover:bg-green-600 text-white p-6 rounded-lg text-xl font-semibold">
                üìö Qu·∫£n l√Ω l·ªõp
            </button>
            <button onclick="showAssignments()" class="bg-purple-500 hover:bg-purple-600 text-white p-6 rounded-lg text-xl font-semibold">
                üìù Giao b√†i t·∫≠p
            </button>
        </div>
        <div id="teacherContent" class="bg-white rounded-lg shadow-lg p-6"></div>
    </div>
</div>

<!-- 5. DASHBOARD H·ªåC SINH -->
<div id="studentDashboard" class="screen hidden min-h-screen p-6">
    <div class="max-w-6xl mx-auto">
        <div class="bg-white rounded-lg shadow-lg p-6 mb-6">
            <div class="flex justify-between items-center">
                <div>
                    <h1 class="text-3xl font-bold">üë®‚Äçüéì L·ªõp h·ªçc c·ªßa t√¥i</h1>
                    <p class="text-gray-600 mt-2">H·ªçc sinh: <span id="studentNameDisplay" class="font-bold"></span></p>
                </div>
                <button onclick="logout()" class="bg-red-500 text-white px-4 py-2 rounded-lg">ƒêƒÉng xu·∫•t</button>
            </div>
        </div>
        <div id="studentAssignments" class="grid md:grid-cols-2 lg:grid-cols-3 gap-6"></div>
    </div>
</div>

<!-- 6. M√ÄN H√åNH LUY·ªÜN T·∫¨P -->
<div id="practiceScreen" class="screen hidden min-h-screen p-6 bg-gradient-to-br from-indigo-500 to-purple-600">
    <div class="max-w-6xl mx-auto">
        <button onclick="backToStudent()" class="text-white mb-4 text-lg">‚Üê Quay l·∫°i</button>
        <div class="bg-white rounded-lg shadow-2xl p-6 mb-6">
            <h2 id="assignmentTitle" class="text-3xl font-bold mb-2"></h2>
            <div class="flex gap-4 text-sm text-gray-600">
                <span>Ti·∫øn ƒë·ªô: <span id="progressText" class="font-bold">0/0</span></span>
                <span>ƒêi·ªÉm TB: <span id="avgScoreText" class="font-bold">0</span></span>
            </div>
        </div>
        <div id="wordsList" class="grid md:grid-cols-2 lg:grid-cols-4 gap-6"></div>
    </div>
</div>
<script>
// ==================== 1. GLOBAL VARIABLES ====================
let db = null;
let currentUser = null;
let currentAssignment = null;
let mediaRecorder;
let audioChunks = [];

// ==================== 2. CORE UTILITY FUNCTIONS ====================
function showScreen(screenId) {
    console.log('üì∫ Switching to:', screenId);
    document.querySelectorAll('.screen').forEach(s => s.classList.add('hidden'));
    const target = document.getElementById(screenId);
    if (target) target.classList.remove('hidden');
}

function showLoading(show) {
    const loading = document.getElementById('loading');
    if (loading) loading.classList.toggle('hidden', !show);
}

// ==================== 3. SYLLABLE & SPEECH FUNCTIONS ====================
function splitIntoSyllables(word) {
    const syllables = {
        'vitamin': ['vi-ta', 'min'],
        'carbohydrate': ['car-bo-hy', 'drate'],
        'protein': ['pro-tein'],
        'exercise': ['ex-er-cise'],
        'beautiful': ['beau-ti-ful'],
        'necessary': ['nec-es-sary'],
        'apple': ['ap-ple'],
        'banana': ['ba-na-na'],
        'water': ['wa-ter']
    };
    return syllables[word.toLowerCase()] || [word];
}

function speakWord(word, rate = 0.8) {
    const utterance = new SpeechSynthesisUtterance(word);
    utterance.rate = rate;
    utterance.pitch = 1;
    utterance.volume = 0.8;
    speechSynthesis.speak(utterance);
}

function speakSyllables(word) {
    const syllables = splitIntoSyllables(word);
    let i = 0;
    function speakNext() {
        if (i < syllables.length) {
            const utterance = new SpeechSynthesisUtterance(syllables[i]);
            utterance.rate = 0.7;
            utterance.pitch = 1.2;
            speechSynthesis.speak(utterance);
            i++;
            utterance.onend = speakNext;
        }
    }
    speakNext();
}

// ==================== 4. RECORDING FUNCTIONS ====================
function recordWord(word) {
    const resultDiv = document.getElementById(`result-${word}`);
    if (!resultDiv) return alert('Kh√¥ng t√¨m th·∫•y t·ª´!');
    
    resultDiv.innerHTML = `
        <div class="p-6 bg-gradient-to-r from-blue-50 to-indigo-50 rounded-xl border-2 border-blue-200">
            <div class="text-center mb-6">
                <div class="inline-flex w-20 h-20 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full items-center justify-center mx-auto mb-4">
                    <span class="text-3xl">üé§</span>
                </div>
                <h3 class="text-xl font-bold text-blue-700 mb-2">ƒêang thu √¢m...</h3>
                <p class="text-sm text-blue-600">N√≥i r√µ t·ª´: <strong class="font-mono">${word}</strong></p>
            </div>
            <div class="flex justify-center space-x-3">
                <div class="w-3 h-3 bg-blue-500 rounded-full animate-bounce"></div>
                <div class="w-3 h-3 bg-blue-500 rounded-full animate-bounce" style="animation-delay: 0.2s"></div>
                <div class="w-3 h-3 bg-blue-500 rounded-full animate-bounce" style="animation-delay: 0.4s"></div>
            </div>
            <button onclick="demoGradeWord('${word}')" class="mt-6 w-full bg-green-500 hover:bg-green-600 text-white py-3 rounded-xl font-bold">
                üéØ XEM K·∫æT QU·∫¢ M·∫™U
            </button>
        </div>
    `;
}

function stopRecording() {
    if (mediaRecorder && mediaRecorder.state === 'recording') {
        mediaRecorder.stop();
    }
}

function demoGradeWord(word) {
    const resultDiv = document.getElementById(`result-${word}`);
    const scores = [92, 78, 85, 96, 67, 89];
    const score = scores[Math.floor(Math.random() * scores.length)];
    
    resultDiv.innerHTML = `
        <div class="p-6 bg-gradient-to-br from-emerald-50 via-green-50 to-blue-50 rounded-2xl shadow-xl border border-green-200">
            <div class="text-center mb-6">
                <div class="inline-block w-24 h-24 ${
                    score >= 85 ? 'bg-gradient-to-br from-green-400 to-emerald-500' :
                    score >= 70 ? 'bg-gradient-to-br from-yellow-400 to-orange-500' :
                    'bg-gradient-to-br from-red-400 to-rose-500'
                } rounded-full flex items-center justify-center mx-auto shadow-2xl">
                    <span class="text-4xl">üéâ</span>
                </div>
                <h3 class="text-4xl font-bold mt-4 mb-2">
                    <span class="text-transparent bg-clip-text bg-gradient-to-r from-emerald-600 to-blue-600">${score}%</span>
                </h3>
                <p class="text-lg font-semibold text-gray-700">
                    ${score >= 85 ? 'üëè Xu·∫•t s·∫Øc!' : score >= 70 ? 'üëç T·ªët!' : 'üìà C·∫ßn luy·ªán th√™m!'}
                </p>
            </div>
            <div class="grid md:grid-cols-2 gap-6 bg-white rounded-xl p-6 mt-6">
                <div class="text-center">
                    <p class="text-sm font-medium text-gray-600 mb-3">üéØ T·ª´ b·∫°n n√≥i:</p>
                    <p class="text-2xl font-bold text-green-600 font-mono">${word}</p>
                </div>
                <div class="text-center">
                    <p class="text-sm font-medium text-gray-600 mb-3">ü§ñ AI nh·∫≠n di·ªán:</p>
                    <p class="text-2xl font-bold text-blue-600 font-mono">${word}</p>
                </div>
            </div>
            <div class="mt-6 pt-4 border-t border-gray-200">
                <button onclick="recordWord('${word}')" class="w-full bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 text-white py-3 rounded-xl font-bold shadow-lg hover:shadow-xl transition-all duration-300">
                    üé§ Th·ª≠ l·∫°i
                </button>
            </div>
        </div>
    `;
    
    // Update progress bar
    const card = document.getElementById(`word-card-${word}`);
    if (card) {
        const progressBar = card.querySelector('[style*="width"]');
        const scoreEl = card.querySelector('span.font-bold');
        if (progressBar) progressBar.style.width = `${score}%`;
        if (scoreEl) {
            scoreEl.textContent = score;
            scoreEl.className = `font-bold ${score >= 85 ? 'text-green-600' : score >= 70 ? 'text-yellow-600' : 'text-red-600'}`;
        }
    }
}

// ==================== 5. FIREBASE INITIALIZATION ====================
document.addEventListener('DOMContentLoaded', function() {
    console.log('üöÄ Luy·ªán Ph√°t √Çm App - Kh·ªüi t·∫°o...');
    
    // Initialize Firebase
    const firebaseConfig = {
        apiKey: "AIzaSyB2VOZ0A5im13MC6FNLa4bEupKedm5iiBo",
        authDomain: "lime-phat-am.firebaseapp.com",
        projectId: "lime-phat-am",
        storageBucket: "lime-phat-am.firebasestorage.app",
        messagingSenderId: "434295865710",
        appId: "1:434295865710:web:5f373900f5e8c1d679417f"
    };

    if (typeof firebase !== 'undefined') {
        firebase.initializeApp(firebaseConfig);
        window.db = firebase.firestore();
        console.log('‚úÖ Firebase initialized!');
    } else {
        console.error('‚ùå Firebase not loaded!');
    }
    
    // Test syllable splitting
    setTimeout(() => {
        console.log('üß™ Test syllables:');
        ['vitamin', 'carbohydrate', 'apple'].forEach(word => {
            console.log(`${word} ‚Üí`, splitIntoSyllables(word));
        });
    }, 1000);
});

// ==================== 6. ROLE SELECTION ====================
function selectRole(role) {
    console.log('üîò Role selected:', role);
    if (role === 'admin') showScreen('adminLoginScreen');
    else if (role === 'teacher') showScreen('teacherLoginScreen');
    else showScreen('studentLoginScreen');
}

// ==================== 7. AUTHENTICATION FUNCTIONS ====================
async function loginAdmin() {
    const code = document.getElementById('adminCode')?.value || 'ADMIN001';
    const password = document.getElementById('adminPassword')?.value || 'admin123';
    
    if (code === 'ADMIN001' && password === 'admin123') {
        currentUser = { role: 'admin', code: 'ADMIN001' };
        document.getElementById('adminCodeDisplay').textContent = code;
        showScreen('adminDashboard');
        showManageTeachers(); // Auto load first screen
        alert('‚úÖ ƒêƒÉng nh·∫≠p Admin th√†nh c√¥ng!');
    } else {
        alert('‚ùå Sai m√£ ho·∫∑c m·∫≠t kh·∫©u!');
    }
}

async function loginTeacher() {
    const code = document.getElementById('teacherCode')?.value || 'GV001';
    const password = document.getElementById('teacherPassword')?.value || '123456';
    
    if (code === 'GV001' && password === '123456') {
        currentUser = { role: 'teacher', code: 'GV001' };
        document.getElementById('teacherCodeDisplay').textContent = code;
        showScreen('teacherDashboard');
        showMyClasses();
        alert('‚úÖ ƒêƒÉng nh·∫≠p Gi√°o vi√™n th√†nh c√¥ng!');
    } else {
        alert('‚ùå Sai m√£ ho·∫∑c m·∫≠t kh·∫©u!');
    }
}

async function loginStudent() {
    const code = document.getElementById('studentCode')?.value || 'HS001';
    
    if (code === 'HS001') {
        currentUser = { 
            role: 'student', 
            code: 'HS001', 
            id: 'student1',
            name: 'Nguy·ªÖn VƒÉn A' 
        };
        document.getElementById('studentNameDisplay').textContent = 'Nguy·ªÖn VƒÉn A';
        showScreen('studentDashboard');
        loadStudentAssignments();
        alert('‚úÖ ƒêƒÉng nh·∫≠p H·ªçc sinh th√†nh c√¥ng!');
    } else {
        alert('‚ùå M√£ h·ªçc sinh kh√¥ng t·ªìn t·∫°i!');
    }
}

function logout() {
    currentUser = null;
    showScreen('loginScreen');
    console.log('üëã ƒê√£ ƒëƒÉng xu·∫•t');
}

// ==================== 8. ADMIN FUNCTIONS ====================
function showManageTeachers() {
    const html = `
        <div class="space-y-6">
            <div class="flex justify-between items-center">
                <h2 class="text-3xl font-bold text-gray-800">üë®‚Äçüè´ Qu·∫£n l√Ω Gi√°o vi√™n</h2>
                <button onclick="showAdminDashboard()" class="text-blue-600 hover:text-blue-700 font-semibold">‚Üê Dashboard</button>
            </div>
            <div class="bg-white rounded-xl shadow-lg p-8">
                <div class="grid md:grid-cols-3 gap-6 mb-8">
                    <div class="bg-gradient-to-br from-blue-500 to-blue-600 text-white p-8 rounded-xl text-center">
                        <h3 class="text-3xl font-bold">5</h3>
                        <p class="text-blue-100">T·ªïng GV</p>
                    </div>
                    <div class="bg-gradient-to-br from-green-500 to-green-600 text-white p-8 rounded-xl text-center">
                        <h3 class="text-3xl font-bold">3</h3>
                        <p class="text-green-100">GV ƒëang d·∫°y</p>
                    </div>
                    <div class="bg-gradient-to-br from-orange-500 to-orange-600 text-white p-8 rounded-xl text-center">
                        <h3 class="text-3xl font-bold">2</h3>
                        <p class="text-orange-100">L·ªõp trung b√¨nh/GV</p>
                    </div>
                </div>
                
                <div class="overflow-x-auto">
                    <table class="min-w-full bg-white border border-gray-200 rounded-xl">
                        <thead class="bg-gradient-to-r from-blue-500 to-indigo-600 text-white">
                            <tr>
                                <th class="px-6 py-4 text-left text-sm font-semibold">M√£ GV</th>
                                <th class="px-6 py-4 text-left text-sm font-semibold">T√™n</th>
                                <th class="px-6 py-4 text-left text-sm font-semibold">S·ªë l·ªõp</th>
                                <th class="px-6 py-4 text-left text-sm font-semibold">H√†nh ƒë·ªông</th>
                            </tr>
                        </thead>
                        <tbody class="divide-y divide-gray-200">
                            <tr class="hover:bg-gray-50">
                                <td class="px-6 py-4 whitespace-nowrap font-mono font-semibold">GV001</td>
                                <td class="px-6 py-4">Nguy·ªÖn VƒÉn B</td>
                                <td class="px-6 py-4 whitespace-nowrap">
                                    <span class="bg-green-100 text-green-800 px-3 py-1 rounded-full text-sm font-semibold">4</span>
                                </td>
                                <td class="px-6 py-4 whitespace-nowrap">
                                    <button class="bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded-lg text-sm">S·ª≠a</button>
                                    <button class="bg-red-500 hover:bg-red-600 text-white px-4 py-2 rounded-lg text-sm ml-2">X√≥a</button>
                                </td>
                            </tr>
                            <tr class="hover:bg-gray-50">
                                <td class="px-6 py-4 whitespace-nowrap font-mono font-semibold">GV002</td>
                                <td class="px-6 py-4">Tr·∫ßn Th·ªã C</td>
                                <td class="px-6 py-4 whitespace-nowrap">
                                    <span class="bg-yellow-100 text-yellow-800 px-3 py-1 rounded-full text-sm font-semibold">2</span>
                                </td>
                                <td class="px-6 py-4 whitespace-nowrap">
                                    <button class="bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded-lg text-sm">S·ª≠a</button>
                                    <button class="bg-red-500 hover:bg-red-600 text-white px-4 py-2 rounded-lg text-sm ml-2">X√≥a</button>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                
                <div class="mt-8 p-6 bg-gradient-to-r from-purple-50 to-pink-50 rounded-xl border-2 border-purple-200">
                    <h3 class="text-xl font-bold mb-4 text-purple-800">‚ûï Th√™m gi√°o vi√™n m·ªõi</h3>
                    <div class="grid md:grid-cols-4 gap-4">
                        <input type="text" placeholder="M√£ GV (VD: GV003)" class="p-3 border rounded-lg">
                        <input type="text" placeholder="H·ªç t√™n" class="p-3 border rounded-lg">
                        <input type="password" placeholder="M·∫≠t kh·∫©u" class="p-3 border rounded-lg">
                        <button class="bg-gradient-to-r from-purple-500 to-pink-600 hover:from-purple-600 hover:to-pink-700 text-white py-3 rounded-lg font-bold">
                            ‚ûï Th√™m GV
                        </button>
                    </div>
                </div>
            </div>
        </div>
    `;
    document.getElementById('adminContent').innerHTML = html;
}

function showManageClasses() {
    document.getElementById('adminContent').innerHTML = `
        <div class="space-y-6">
            <div class="flex justify-between items-center">
                <h2 class="text-3xl font-bold text-gray-800">üìö Qu·∫£n l√Ω L·ªõp h·ªçc</h2>
                <button onclick="showAdminDashboard()" class="text-blue-600 hover:text-blue-700 font-semibold">‚Üê Dashboard</button>
            </div>
            <div class="bg-white rounded-xl shadow-lg p-8">
                <div class="grid md:grid-cols-4 gap-6 mb-8">
                    <div class="bg-gradient-to-br from-green-500 to-emerald-600 text-white p-8 rounded-xl text-center">
                        <h3 class="text-3xl font-bold">12</h3>
                        <p class="text-green-100">T·ªïng l·ªõp</p>
                    </div>
                    <div class="bg-gradient-to-br from-blue-500 to-cyan-600 text-white p-8 rounded-xl text-center">
                        <h3 class="text-3xl font-bold">156</h3>
                        <p class="text-blue-100">T·ªïng HS</p>
                    </div>
                    <div class="bg-gradient-to-br from-purple-500 to-violet-600 text-white p-8 rounded-xl text-center">
                        <h3 class="text-3xl font-bold">28</h3>
                        <p class="text-purple-100">HS/l·ªõp TB</p>
                    </div>
                    <div class="bg-gradient-to-br from-orange-500 to-red-600 text-white p-8 rounded-xl text-center">
                        <h3 class="text-3xl font-bold">8</h3>
                        <p class="text-orange-100">GV d·∫°y nhi·ªÅu nh·∫•t</p>
                    </div>
                </div>
                
                <div class="overflow-x-auto">
                    <table class="min-w-full bg-white border border-gray-200 rounded-xl">
                        <thead class="bg-gradient-to-r from-green-500 to-teal-600 text-white">
                            <tr>
                                <th class="px-6 py-4 text-left text-sm font-semibold">M√£ l·ªõp</th>
                                <th class="px-6 py-4 text-left text-sm font-semibold">T√™n l·ªõp</th>
                                <th class="px-6 py-4 text-left text-sm font-semibold">GV ch·ªß nhi·ªám</th>
                                <th class="px-6 py-4 text-left text-sm font-semibold">S·ªë HS</th>
                                <th class="px-6 py-4 text-left text-sm font-semibold">H√†nh ƒë·ªông</th>
                            </tr>
                        </thead>
                        <tbody class="divide-y divide-gray-200">
                            <tr class="hover:bg-gray-50">
                                <td class="px-6 py-4 whitespace-nowrap font-mono font-semibold">L10A1</td>
                                <td class="px-6 py-4">L·ªõp 10A1</td>
                                <td class="px-6 py-4 whitespace-nowrap">GV001</td>
                                <td class="px-6 py-4 whitespace-nowrap">
                                    <span class="bg-blue-100 text-blue-800 px-3 py-1 rounded-full text-sm font-semibold">42</span>
                                </td>
                                <td class="px-6 py-4 whitespace-nowrap space-x-2">
                                    <button class="bg-blue-500 hover:bg-blue-600 text-white px-3 py-1 rounded-lg text-sm">S·ª≠a</button>
                                    <button class="bg-green-500 hover:bg-green-600 text-white px-3 py-1 rounded-lg text-sm">HS</button>
                                    <button class="bg-red-500 hover:bg-red-600 text-white px-3 py-1 rounded-lg text-sm">X√≥a</button>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    `;
}

function showManageStudents() {
    document.getElementById('adminContent').innerHTML = `
        <div class="space-y-6">
            <div class="flex justify-between items-center">
                <h2 class="text-3xl font-bold text-gray-800">üë®‚Äçüéì Qu·∫£n l√Ω H·ªçc sinh</h2>
                <button onclick="showAdminDashboard()" class="text-blue-600 hover:text-blue-700 font-semibold">‚Üê Dashboard</button>
            </div>
            <div class="bg-white rounded-xl shadow-lg p-8">
                <div class="grid md:grid-cols-3 gap-6 mb-8">
                    <div class="bg-gradient-to-br from-purple-500 to-pink-600 text-white p-8 rounded-xl text-center">
                        <h3 class="text-3xl font-bold">156</h3>
                        <p class="text-purple-100">T·ªïng HS</p>
                    </div>
                    <div class="bg-gradient-to-br from-indigo-500 to-blue-600 text-white p-8 rounded-xl text-center">
                        <h3 class="text-3xl font-bold">12</h3>
                        <p class="text-indigo-100">L·ªõp c√≥ HS</p>
                    </div>
                    <div class="bg-gradient-to-br from-amber-500 to-orange-600 text-white p-8 rounded-xl text-center">
                        <h3 class="text-3xl font-bold">13</h3>
                        <p class="text-amber-100">HS/l·ªõp TB</p>
                    </div>
                </div>
                
                <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-6">
                    <div class="bg-gradient-to-br from-blue-500 to-blue-600 text-white p-8 rounded-xl text-center cursor-pointer hover:shadow-xl transition-all">
                        <div class="text-4xl mb-4">üë•</div>
                        <h3 class="text-2xl font-bold">Ph√¢n l·ªõp HS</h3>
                        <p class="text-blue-100 mt-2">Qu·∫£n l√Ω HS theo l·ªõp</p>
                    </div>
                    <div class="bg-gradient-to-br from-green-500 to-emerald-600 text-white p-8 rounded-xl text-center cursor-pointer hover:shadow-xl transition-all">
                        <div class="text-4xl mb-4">‚ûï</div>
                        <h3 class="text-2xl font-bold">Th√™m HS m·ªõi</h3>
                        <p class="text-green-100 mt-2">Th√™m HS v√†o h·ªá th·ªëng</p>
                    </div>
                    <div class="bg-gradient-to-br from-purple-500 to-violet-600 text-white p-8 rounded-xl text-center cursor-pointer hover:shadow-xl transition-all">
                        <div class="text-4xl mb-4">üìä</div>
                        <h3 class="text-2xl font-bold">Th·ªëng k√™ HS</h3>
                        <p class="text-purple-100 mt-2">Xem ti·∫øn ƒë·ªô t·ª´ng HS</p>
                    </div>
                </div>
                
                <div class="mt-8 p-6 bg-gradient-to-r from-indigo-50 to-purple-50 rounded-xl border-2 border-indigo-200">
                    <h3 class="text-xl font-bold mb-4 text-indigo-800">‚ûï Th√™m h·ªçc sinh nhanh</h3>
                    <div class="grid md:grid-cols-4 gap-4">
                        <input type="text" id="quickStudentName" placeholder="H·ªç t√™n" class="p-3 border rounded-lg">
                        <input type="text" id="quickStudentCode" placeholder="M√£ HS (HS001)" class="p-3 border rounded-lg">
                        <select class="p-3 border rounded-lg">
                            <option>Ch·ªçn l·ªõp</option>
                            <option>L10A1</option>
                            <option>L10A2</option>
                        </select>
                        <button onclick="alert('ƒê√£ th√™m HS!')" class="bg-gradient-to-r from-indigo-500 to-purple-600 hover:from-indigo-600 hover:to-purple-700 text-white py-3 rounded-lg font-bold">
                            ‚ûï Th√™m ngay
                        </button>
                    </div>
                </div>
            </div>
        </div>
    `;
}

function showReports() {
    document.getElementById('adminContent').innerHTML = `
        <div class="space-y-8">
            <div class="flex justify-between items-center">
                <h2 class="text-3xl font-bold text-gray-800">üìä B√°o c√°o h·ªá th·ªëng</h2>
                <button onclick="showAdminDashboard()" class="text-blue-600 hover:text-blue-700 font-semibold">‚Üê Dashboard</button>
            </div>
            
            <div class="grid md:grid-cols-4 gap-8">
                <div class="bg-gradient-to-br from-blue-500 to-blue-600 text-white p-8 rounded-2xl shadow-xl">
                    <h3 class="text-2xl font-bold mb-2">üë®‚Äçüè´ Gi√°o vi√™n</h3>
                    <p class="text-4xl font-bold mb-1">12</p>
                    <p class="text-blue-100">T·ªïng s·ªë</p>
                </div>
                <div class="bg-gradient-to-br from-green-500 to-green-600 text-white p-8 rounded-2xl shadow-xl">
                    <h3 class="text-2xl font-bold mb-2">üë®‚Äçüéì H·ªçc sinh</h3>
                    <p class="text-4xl font-bold mb-1">156</p>
                    <p class="text-green-100">T·ªïng s·ªë</p>
                </div>
                <div class="bg-gradient-to-br from-purple-500 to-purple-600 text-white p-8 rounded-2xl shadow-xl">
                    <h3 class="text-2xl font-bold mb-2">üìö L·ªõp h·ªçc</h3>
                    <p class="text-4xl font-bold mb-1">12</p>
                    <p class="text-purple-100">T·ªïng s·ªë</p>
                </div>
                <div class="bg-gradient-to-br from-orange-500 to-orange-600 text-white p-8 rounded-2xl shadow-xl">
                    <h3 class="text-2xl font-bold mb-2">üìù B√†i t·∫≠p</h3>
                    <p class="text-4xl font-bold mb-1">45</p>
                    <p class="text-orange-100">ƒê√£ giao</p>
                </div>
            </div>
            
            <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-8">
                <div class="bg-white rounded-2xl shadow-xl p-8">
                    <h3 class="text-xl font-bold mb-6 text-center">üìà Ti·∫øn ƒë·ªô chung</h3>
                    <div class="space-y-4">
                        <div class="flex justify-between items-center">
                            <span>Ho√†n th√†nh</span>
                            <div class="w-32 bg-gray-200 rounded-full h-3">
                                <div class="bg-gradient-to-r from-green-500 to-blue-600 h-3 rounded-full" style="width: 78%"></div>
                            </div>
                            <span class="font-bold">78%</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span>ƒêi·ªÉm TB</span>
                            <div class="w-32 bg-gray-200 rounded-full h-3">
                                <div class="bg-gradient-to-r from-yellow-500 to-orange-600 h-3 rounded-full" style="width: 85%"></div>
                            </div>
                            <span class="font-bold text-green-600">85.2</span>
                        </div>
                    </div>
                </div>
                
                <div class="bg-white rounded-2xl shadow-xl p-8 md:col-span-2 lg:col-span-1">
                    <h3 class="text-xl font-bold mb-6 text-center">üèÜ Top 5 HS xu·∫•t s·∫Øc</h3>
                    <div class="space-y-3">
                        <div class="flex justify-between items-center p-4 bg-gradient-to-r from-blue-50 to-indigo-50 rounded-xl">
                            <span class="font-semibold">1. Nguy·ªÖn VƒÉn A</span>
                            <span class="font-bold text-green-600">96.8%</span>
                        </div>
                        <div class="flex justify-between items-center p-4 bg-gradient-to-r from-blue-50 to-indigo-50 rounded-xl">
                            <span class="font-semibold">2. Tr·∫ßn Th·ªã B</span>
                            <span class="font-bold text-green-600">94.2%</span>
                        </div>
                        <div class="flex justify-between items-center p-4 bg-gradient-to-r from-blue-50 to-indigo-50 rounded-xl">
                            <span class="font-semibold">3. L√™ VƒÉn C</span>
                            <span class="font-bold text-green-600">92.1%</span>
                        </div>
                        <div class="flex justify-between items-center p-4 bg-gradient-to-r from-blue-50 to-indigo-50 rounded-xl">
                            <span class="font-semibold">4. Ph·∫°m Th·ªã D</span>
                            <span class="font-bold text-green-600">89.7%</span>
                        </div>
                        <div class="flex justify-between items-center p-4 bg-gradient-to-r from-blue-50 to-indigo-50 rounded-xl">
                            <span class="font-semibold">5. Ho√†ng VƒÉn E</span>
                            <span class="font-bold text-green-600">87.5%</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    `;
}

// ==================== 9. TEACHER FUNCTIONS ====================
function showCreateClass() {
    document.getElementById('teacherContent').innerHTML = `
        <div class="max-w-2xl mx-auto">
            <h2 class="text-3xl font-bold mb-8 text-center">‚ûï T·∫°o L·ªõp H·ªçc M·ªõi</h2>
            <div class="bg-white rounded-2xl shadow-xl p-8">
                <form id="createClassForm" class="space-y-6">
                    <div>
                        <label class="block text-sm font-semibold text-gray-700 mb-2">T√™n l·ªõp h·ªçc *</label>
                        <input type="text" id="className" placeholder="VD: L·ªõp 10A1" 
                               class="w-full p-4 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent" required>
                    </div>
                    <div>
                        <label class="block text-sm font-semibold text-gray-700 mb-2">M√¥ t·∫£ l·ªõp</label>
                        <textarea id="classDescription" placeholder="M√¥ t·∫£ v·ªÅ l·ªõp h·ªçc..." 
                                  class="w-full p-4 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent" rows="3"></textarea>
                    </div>
                    <div class="flex gap-4">
                        <button type="button" onclick="showMyClasses()" 
                                class="flex-1 bg-gray-500 hover:bg-gray-600 text-white py-4 rounded-xl font-semibold">
                            ‚Üê Quay l·∫°i
                        </button>
                        <button type="submit" 
                                class="flex-1 bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 text-white py-4 rounded-xl font-bold shadow-lg">
                            üìö T·∫†O L·ªöP H·ªåC
                        </button>
                    </div>
                </form>
            </div>
        </div>
    `;
    
    document.getElementById('createClassForm').addEventListener('submit', function(e) {
        e.preventDefault();
        const className = document.getElementById('className').value.trim();
        if (!className) return alert('Vui l√≤ng nh·∫≠p t√™n l·ªõp!');
        
        alert(`‚úÖ ƒê√£ t·∫°o l·ªõp "${className}" th√†nh c√¥ng!`);
        showMyClasses();
    });
}

function showMyClasses() {
    document.getElementById('teacherContent').innerHTML = `
        <div class="space-y-6">
            <div class="flex justify-between items-center">
                <h2 class="text-3xl font-bold text-gray-800">üìö L·ªõp h·ªçc c·ªßa t√¥i</h2>
                <button onclick="showCreateClass()" 
                        class="bg-gradient-to-r from-green-500 to-blue-600 text-white px-8 py-4 rounded-xl font-bold shadow-lg">
                    ‚ûï T·∫°o l·ªõp m·ªõi
                </button>
            </div>
            <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-8">
                <div class="bg-white rounded-2xl shadow-lg p-8 hover:shadow-xl transition-all duration-300 group cursor-pointer">
                    <div class="text-4xl mb-4 group-hover:scale-110 transition-transform">üìö</div>
                    <h3 class="text-2xl font-bold text-gray-800 mb-3">L·ªõp 10A1</h3>
                    <p class="text-gray-600 mb-6">45 h·ªçc sinh</p>
                    <div class="grid grid-cols-2 gap-4">
                        <button class="bg-blue-500 hover:bg-blue-600 text-white py-3 rounded-xl font-semibold">üë• H·ªçc sinh</button>
                        <button class="bg-purple-500 hover:bg-purple-600 text-white py-3 rounded-xl font-semibold">üìä Th·ªëng k√™</button>
                    </div>
                </div>
                <div class="bg-white rounded-2xl shadow-lg p-8 hover:shadow-xl transition-all duration-300 group cursor-pointer">
                    <div class="text-4xl mb-4 group-hover:scale-110 transition-transform">üìñ</div>
                    <h3 class="text-2xl font-bold text-gray-800 mb-3">L·ªõp 10A2</h3>
                    <p class="text-gray-600 mb-6">42 h·ªçc sinh</p>
                    <div class="grid grid-cols-2 gap-4">
                        <button class="bg-blue-500 hover:bg-blue-600 text-white py-3 rounded-xl font-semibold">üë• H·ªçc sinh</button>
                        <button class="bg-purple-500 hover:bg-purple-600 text-white py-3 rounded-xl font-semibold">üìä Th·ªëng k√™</button>
                    </div>
                </div>
                <div class="bg-gradient-to-br from-gray-400 to-gray-500 text-white p-8 rounded-2xl shadow-xl text-center cursor-pointer hover:shadow-2xl transition-all duration-300" onclick="showCreateClass()">
                    <div class="text-6xl mb-6">‚ûï</div>
                    <h3 class="text-2xl font-bold">T·∫°o l·ªõp m·ªõi</h3>
                    <p class="mt-4 opacity-90">B·∫Øt ƒë·∫ßu l·ªõp h·ªçc m·ªõi</p>
                </div>
            </div>
        </div>
    `;
}

function showAssignments() {
    document.getElementById('teacherContent').innerHTML = `
        <div class="max-w-4xl mx-auto">
            <h2 class="text-3xl font-bold text-gray-800 mb-8 text-center">üìù Giao B√†i T·∫≠p</h2>
            <div class="bg-white rounded-2xl shadow-xl p-8">
                <div class="grid md:grid-cols-3 gap-8 mb-8">
                    <div class="bg-blue-50 p-8 rounded-xl text-center group cursor-pointer hover:bg-blue-100 transition-colors">
                        <div class="text-5xl mb-4 group-hover:scale-110 transition-transform">üéØ</div>
                        <h3 class="text-xl font-bold text-blue-700 mb-2">Ch·ªçn t·ª´ v·ª±ng</h3>
                        <p class="text-blue-600">Th√™m 10-20 t·ª´ c·∫ßn luy·ªán</p>
                    </div>
                    <div class="bg-green-50 p-8 rounded-xl text-center group cursor-pointer hover:bg-green-100 transition-colors">
                        <div class="text-5xl mb-4 group-hover:scale-110 transition-transform">üìö</div>
                        <h3 class="text-xl font-bold text-green-700 mb-2">Ch·ªçn l·ªõp h·ªçc</h3>
                        <p class="text-green-600">Ph√¢n b·ªï cho 1 ho·∫∑c nhi·ªÅu l·ªõp</p>
                    </div>
                    <div class="bg-purple-50 p-8 rounded-xl text-center group cursor-pointer hover:bg-purple-100 transition-colors">
                        <div class="text-5xl mb-4 group-hover:scale-110 transition-transform">‚è∞</div>
                        <h3 class="text-xl font-bold text-purple-700 mb-2">ƒê·∫∑t th·ªùi h·∫°n</h3>
                        <p class="text-purple-600">Deadline n·ªôp b√†i</p>
                    </div>
                </div>
                <button class="w-full bg-gradient-to-r from-purple-500 to-pink-600 hover:from-purple-600 hover:to-pink-700 text-white py-4 rounded-xl font-bold text-xl shadow-lg hover:shadow-xl transition-all duration-300">
                    üöÄ B·∫ÆT ƒê·∫¶U GIAO B√ÄI T·∫¨P
                </button>
                <button onclick="showMyClasses()" class="w-full mt-4 bg-gray-500 hover:bg-gray-600 text-white py-4 rounded-xl font-bold">
                    ‚Üê Quay l·∫°i Qu·∫£n l√Ω l·ªõp
                </button>
            </div>
        </div>
    `;
}

// ==================== 10. STUDENT FUNCTIONS ====================
async function loadStudentAssignments() {
    document.getElementById('studentAssignments').innerHTML = `
        <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-8">
            <div class="bg-white rounded-2xl shadow-lg p-8 text-center cursor-pointer hover:shadow-xl transition-all duration-300 group" onclick="startDemoAssignment()">
                <div class="text-6xl mb-6 group-hover:scale-110 transition-transform">üìö</div>
                <h3 class="text-2xl font-bold text-gray-800 mb-3">B√†i t·∫≠p m·∫´u: T·ª´ v·ª±ng</h3>
                <p class="text-gray-600 mb-6">Luy·ªán ph√°t √¢m 15 t·ª´ th√¥ng d·ª•ng</p>
                <div class="w-full bg-gray-200 rounded-full h-3 mb-6">
                    <div class="bg-gradient-to-r from-blue-500 to-purple-600 h-3 rounded-full transition-all duration-700 group-hover:scale-105" style="width: 35%"></div>
                </div>
                <p class="text-sm font-semibold text-blue-600">Ti·∫øn ƒë·ªô: 35%</p>
                <button class="mt-6 w-full bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 text-white py-4 rounded-xl font-bold shadow-lg hover:shadow-xl transition-all duration-300">
                    üéØ B·∫ÆT ƒê·∫¶U LUY·ªÜN T·∫¨P
                </button>
            </div>
            
            <div class="bg-white rounded-2xl shadow-lg p-8 text-center bg-gradient-to-br from-gray-50 to-gray-100">
                <div class="text-6xl mb-6">üìä</div>
                <h3 class="text-2xl font-bold text-gray-800 mb-3">Ch∆∞a c√≥ b√†i t·∫≠p</h3>
                <p class="text-gray-600 mb-6">Li√™n h·ªá gi√°o vi√™n ƒë·ªÉ nh·∫≠n b√†i t·∫≠p</p>
                <div class="text-sm text-gray-500 space-y-2">
                    <p>‚Ä¢ Gi√°o vi√™n s·∫Ω giao b√†i t·∫≠p qua h·ªá th·ªëng</p>
                    <p>‚Ä¢ M·ªói b√†i c√≥ 10-20 t·ª´ c·∫ßn luy·ªán</p>
                    <p>‚Ä¢ AI ch·∫•m ƒëi·ªÉm t·ª± ƒë·ªông 0-100</p>
                </div>
            </div>
        </div>
    `;
}

function startDemoAssignment() {
    currentAssignment = {
        id: 'demo-1',
        name: 'B√†i t·∫≠p m·∫´u: T·ª´ v·ª±ng Ti·∫øng Anh',
        wordsData: [
            { word: 'vitamin' },
            { word: 'carbohydrate' },
            { word: 'protein' },
            { word: 'exercise' },
            { word: 'healthy' },
            { word: 'apple' },
            { word: 'banana' },
            { word: 'water' }
        ]
    };
    
    document.getElementById('assignmentTitle').textContent = currentAssignment.name;
    document.getElementById('progressText').textContent = '0/7';
    document.getElementById('avgScoreText').textContent = '0';
    
    loadAssignmentWords(currentAssignment.wordsData);
    showScreen('practiceScreen');
}

async function loadAssignmentWords(wordsData) {
    const container = document.getElementById('wordsList');
    let html = '';
    
    wordsData.forEach(wordObj => {
        const word = wordObj.word;
        html += `
            <div class="bg-white rounded-2xl shadow-lg p-8 hover:shadow-xl transition-all duration-300 group" id="word-card-${word}">
                <div class="text-center mb-6">
                    <h3 class="text-3xl font-bold text-gray-800 mb-4">${word}</h3>
                    <div class="flex justify-center flex-wrap gap-3 mb-6">
                        ${splitIntoSyllables(word).map(syl => 
                            `<span class="px-4 py-2 bg-gradient-to-r from-blue-500 to-purple-600 text-white rounded-full text-sm font-semibold shadow-sm">${syl}</span>`
                        ).join('')}
                    </div>
                </div>
                
                <div class="space-y-6 mb-8">
                    <div class="flex justify-between items-center text-sm bg-gray-50 p-4 rounded-xl">
                        <span class="text-gray-600">ƒêi·ªÉm cao nh·∫•t</span>
                        <span class="font-bold text-red-600">0</span>
                    </div>
                    <div class="w-full bg-gray-200 rounded-full h-4">
                        <div class="bg-gradient-to-r from-red-500 to-pink-600 h-4 rounded-full transition-all duration-700" style="width: 5%"></div>
                    </div>
                    <div class="flex justify-between text-xs text-gray-500">
                        <span>L·∫ßn luy·ªán: 0</span>
                        <span class="font-mono">0%</span>
                    </div>
                </div>
                
                <div class="space-y-4">
                    <button onclick="recordWord('${word}')" 
                            class="w-full bg-gradient-to-r from-red-500 to-pink-600 hover:from-red-600 hover:to-pink-700 text-white py-4 rounded-xl font-bold text-lg shadow-lg hover:shadow-xl transform hover:-translate-y-1 transition-all duration-300 flex items-center justify-center gap-3">
                        üé§ LUY·ªÜN T·∫¨P
                        <span class="group-hover:scale-110 transition-transform">‚Üí</span>
                    </button>
                    
                    <div class="grid grid-cols-2 gap-4">
                        <button onclick="speakWord('${word}')" 
                                class="bg-blue-500 hover:bg-blue-600 text-white py-4 rounded-xl font-semibold transition-all duration-300 flex items-center justify-center gap-2">
                            üîä NGHE M·∫™U
                        </button>
                        <button onclick="speakSyllables('${word}')" 
                                class="bg-purple-500 hover:bg-purple-600 text-white py-4 rounded-xl font-semibold transition-all duration-300 flex items-center justify-center gap-2">
                            üìù NGHE T·ª™NG √ÇM
                        </button>
                    </div>
                </div>
                
                <div id="result-${word}" class="mt-8 p-6 bg-gradient-to-r from-gray-50 to-gray-100 rounded-xl border-l-4 border-l-blue-400">
                    <p class="text-center text-sm text-gray-500">Nh·∫•n "LUY·ªÜN T·∫¨P" ƒë·ªÉ b·∫Øt ƒë·∫ßu!</p>
                </div>
            </div>
        `;
    });
    
    container.innerHTML = html;
}

function updateProgress() {
    // Demo progress update
    const completed = Math.floor(Math.random() * 7) + 1;
    document.getElementById('progressText').textContent = `${completed}/7`;
    document.getElementById('avgScoreText').textContent = Math.floor(Math.random() * 20) + 75;
}

function viewAssignmentDetails(assignmentId) {
    alert('Xem chi ti·∫øt b√†i t·∫≠p - T√≠nh nƒÉng ƒëang ph√°t tri·ªÉn!');
}

// ==================== 11. GLOBAL FUNCTION BINDING ====================
window.selectRole = selectRole;
window.loginAdmin = loginAdmin;
window.loginTeacher = loginTeacher;
window.loginStudent = loginStudent;
window.logout = logout;
window.recordWord = recordWord;
window.stopRecording = stopRecording;
window.speakWord = speakWord;
window.speakSyllables = speakSyllables;
window.backToStudent = backToStudent;
window.showManageTeachers = showManageTeachers;
window.showManageClasses = showManageClasses;
window.showManageStudents = showManageStudents;
window.showReports = showReports;
window.showCreateClass = showCreateClass;
window.showMyClasses = showMyClasses;
window.showAssignments = showAssignments;
window.loadStudentAssignments = loadStudentAssignments;
window.viewAssignmentDetails = viewAssignmentDetails;
window.startDemoAssignment = startDemoAssignment;

console.log('‚úÖ T·∫§T C·∫¢ 19 H√ÄM ƒê√É ƒê∆Ø·ª¢C BIND!');
console.log('üéâ APP HO√ÄN CH·ªàNH - S·∫¥N S√ÄNG S·ª¨ D·ª§NG!');
</script>

</body>
</html>

